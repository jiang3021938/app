2026-02-07 22:59:06,861 - main - INFO - === Logging system initialized ===
2026-02-07 22:59:06,861 - main - INFO - Log file: logs/app_20260207_225906.log
2026-02-07 22:59:06,861 - main - INFO - Log level: INFO
2026-02-07 22:59:06,861 - main - INFO - Timestamp: 20260207_225906
2026-02-07 22:59:07,555 - main - INFO - Included router: routers.aihub.router
2026-02-07 22:59:07,575 - main - INFO - Included router: routers.auth.router
2026-02-07 22:59:07,623 - main - INFO - Included router: routers.documents.router
2026-02-07 22:59:07,840 - main - INFO - Included router: routers.extractions.router
2026-02-07 22:59:07,858 - main - INFO - Included router: routers.health.router
2026-02-07 22:59:07,891 - main - INFO - Included router: routers.lease_analysis.router
2026-02-07 22:59:07,944 - main - INFO - Included router: routers.payments.router
2026-02-07 22:59:07,967 - main - INFO - Included router: routers.settings.router
2026-02-07 22:59:08,017 - main - INFO - Included router: routers.state_regulations.router
2026-02-07 22:59:08,075 - main - INFO - Included router: routers.storage.router
2026-02-07 22:59:08,093 - main - WARNING - Failed to import module 'routers.stripe_payments': 'Settings' object has no attribute 'stripe_secret_key'
2026-02-07 22:59:08,103 - main - INFO - Included router: routers.user.router
2026-02-07 22:59:08,148 - main - INFO - Included router: routers.user_credits.router
2026-02-07 22:59:08,150 - main - INFO - === Application startup initiated ===
2026-02-07 22:59:08,150 - services.database - DEBUG - [DB_OP] Starting database initialization
2026-02-07 22:59:08,150 - services.database - INFO - ðŸ”§ Starting database initialization...
2026-02-07 22:59:08,150 - core.database - INFO - Starting database initialization...
2026-02-07 22:59:08,150 - core.config - DEBUG - Read dynamic attribute database_url from environment variable DATABASE_URL
2026-02-07 22:59:08,151 - core.database - INFO - Normalizing database URL for async compatibility...
2026-02-07 22:59:08,152 - core.database - ERROR - Database not found:./app.db
2026-02-07 22:59:08,152 - core.database - WARNING - Adjusted database URL driver for async compatibility
2026-02-07 22:59:08,152 - core.database - INFO - Creating async database engine...
2026-02-07 22:59:08,152 - core.database - INFO - Using QueuePool with connection pooling for non-Lambda environment
2026-02-07 22:59:08,601 - core.database - INFO - Database engine created successfully
2026-02-07 22:59:08,602 - core.database - INFO - Creating async session maker...
2026-02-07 22:59:08,602 - core.database - INFO - Async session maker created successfully
2026-02-07 22:59:08,602 - core.database - INFO - Database connection initialized successfully
2026-02-07 22:59:08,602 - services.database - INFO - ðŸ”§ Database connection initialized, now creating tables if tables not exist...
2026-02-07 22:59:08,602 - core.database - DEBUG - [DB_OP] Starting create_tables
2026-02-07 22:59:08,602 - core.database - INFO - ðŸ”§ Starting table creation...
2026-02-07 22:59:08,603 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x7effff078c10>
2026-02-07 22:59:08,606 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x7effff078c10> completed
2026-02-07 22:59:08,606 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x7effff5ba140>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x7effff078790>, deterministic=True)
2026-02-07 22:59:08,606 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x7effff5ba140>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x7effff078790>, deterministic=True) completed
2026-02-07 22:59:08,606 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x7effff5ba140>, 'floor', 1, <built-in function floor>, deterministic=True)
2026-02-07 22:59:08,606 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x7effff5ba140>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2026-02-07 22:59:08,607 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,607 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,607 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA read_uncommitted', [])
2026-02-07 22:59:08,607 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA read_uncommitted', []) completed
2026-02-07 22:59:08,607 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,607 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,607 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,607 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,608 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,608 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,608 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,608 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,608 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.table_info("users")', ())
2026-02-07 22:59:08,613 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.table_info("users")', ()) completed
2026-02-07 22:59:08,613 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,613 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,613 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,613 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,614 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,614 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,614 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA temp.table_info("users")', ())
2026-02-07 22:59:08,614 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA temp.table_info("users")', ()) completed
2026-02-07 22:59:08,614 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,614 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,614 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,614 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,615 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,615 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,615 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.table_info("oidc_states")', ())
2026-02-07 22:59:08,617 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.table_info("oidc_states")', ()) completed
2026-02-07 22:59:08,617 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,617 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,618 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,618 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,618 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,618 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,618 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA temp.table_info("oidc_states")', ())
2026-02-07 22:59:08,618 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA temp.table_info("oidc_states")', ()) completed
2026-02-07 22:59:08,618 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,618 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,618 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,618 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,618 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,619 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,619 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.table_info("documents")', ())
2026-02-07 22:59:08,621 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.table_info("documents")', ()) completed
2026-02-07 22:59:08,621 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,622 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,622 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,622 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,622 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,622 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,622 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA temp.table_info("documents")', ())
2026-02-07 22:59:08,622 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA temp.table_info("documents")', ()) completed
2026-02-07 22:59:08,622 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,622 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,623 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,623 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,623 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,623 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,623 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.table_info("extractions")', ())
2026-02-07 22:59:08,626 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.table_info("extractions")', ()) completed
2026-02-07 22:59:08,626 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,626 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,627 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,627 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,627 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,627 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,627 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA temp.table_info("extractions")', ())
2026-02-07 22:59:08,627 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA temp.table_info("extractions")', ()) completed
2026-02-07 22:59:08,627 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,627 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,628 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,628 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,628 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,628 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,628 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.table_info("user_credits")', ())
2026-02-07 22:59:08,631 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.table_info("user_credits")', ()) completed
2026-02-07 22:59:08,631 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,631 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,631 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,631 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,631 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,632 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,632 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA temp.table_info("user_credits")', ())
2026-02-07 22:59:08,632 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA temp.table_info("user_credits")', ()) completed
2026-02-07 22:59:08,632 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,632 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,632 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,632 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,632 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,632 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,632 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.table_info("state_regulations")', ())
2026-02-07 22:59:08,634 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.table_info("state_regulations")', ()) completed
2026-02-07 22:59:08,634 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,634 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,635 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,635 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,635 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,635 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,635 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA temp.table_info("state_regulations")', ())
2026-02-07 22:59:08,635 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA temp.table_info("state_regulations")', ()) completed
2026-02-07 22:59:08,635 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,635 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,635 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,635 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,636 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,636 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,636 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.table_info("payments")', ())
2026-02-07 22:59:08,638 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.table_info("payments")', ()) completed
2026-02-07 22:59:08,638 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,638 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,638 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,638 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,638 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,639 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,639 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA temp.table_info("payments")', ())
2026-02-07 22:59:08,639 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA temp.table_info("payments")', ()) completed
2026-02-07 22:59:08,639 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,639 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,639 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,639 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,640 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,640 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,640 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, '\nCREATE TABLE users (\n\tid VARCHAR(255) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\tname VARCHAR(255), \n\trole VARCHAR(50) NOT NULL, \n\tcreated_at DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tlast_login DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
2026-02-07 22:59:08,654 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, '\nCREATE TABLE users (\n\tid VARCHAR(255) NOT NULL, \n\temail VARCHAR(255) NOT NULL, \n\tname VARCHAR(255), \n\trole VARCHAR(50) NOT NULL, \n\tcreated_at DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tlast_login DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
2026-02-07 22:59:08,654 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,654 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,655 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,655 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,655 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'CREATE INDEX ix_users_id ON users (id)', ())
2026-02-07 22:59:08,670 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'CREATE INDEX ix_users_id ON users (id)', ()) completed
2026-02-07 22:59:08,670 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,670 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,671 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,671 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,671 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, '\nCREATE TABLE oidc_states (\n\tid INTEGER NOT NULL, \n\tstate VARCHAR(255) NOT NULL, \n\tnonce VARCHAR(255) NOT NULL, \n\tcode_verifier VARCHAR(255) NOT NULL, \n\texpires_at DATETIME NOT NULL, \n\tcreated_at DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id)\n)\n\n', ())
2026-02-07 22:59:08,688 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, '\nCREATE TABLE oidc_states (\n\tid INTEGER NOT NULL, \n\tstate VARCHAR(255) NOT NULL, \n\tnonce VARCHAR(255) NOT NULL, \n\tcode_verifier VARCHAR(255) NOT NULL, \n\texpires_at DATETIME NOT NULL, \n\tcreated_at DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
2026-02-07 22:59:08,689 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,689 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,689 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,689 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,690 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'CREATE UNIQUE INDEX ix_oidc_states_state ON oidc_states (state)', ())
2026-02-07 22:59:08,709 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'CREATE UNIQUE INDEX ix_oidc_states_state ON oidc_states (state)', ()) completed
2026-02-07 22:59:08,710 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,710 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,710 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,710 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,710 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'CREATE INDEX ix_oidc_states_id ON oidc_states (id)', ())
2026-02-07 22:59:08,728 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'CREATE INDEX ix_oidc_states_id ON oidc_states (id)', ()) completed
2026-02-07 22:59:08,728 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,728 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,729 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,729 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,729 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, '\nCREATE TABLE documents (\n\tid INTEGER NOT NULL, \n\tuser_id VARCHAR NOT NULL, \n\tfile_name VARCHAR NOT NULL, \n\tfile_key VARCHAR NOT NULL, \n\tfile_size INTEGER, \n\tstatus VARCHAR NOT NULL, \n\tcreated_at DATETIME, \n\tupdated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
2026-02-07 22:59:08,745 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, '\nCREATE TABLE documents (\n\tid INTEGER NOT NULL, \n\tuser_id VARCHAR NOT NULL, \n\tfile_name VARCHAR NOT NULL, \n\tfile_key VARCHAR NOT NULL, \n\tfile_size INTEGER, \n\tstatus VARCHAR NOT NULL, \n\tcreated_at DATETIME, \n\tupdated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
2026-02-07 22:59:08,745 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,745 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,746 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,746 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,746 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'CREATE INDEX ix_documents_id ON documents (id)', ())
2026-02-07 22:59:08,764 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'CREATE INDEX ix_documents_id ON documents (id)', ()) completed
2026-02-07 22:59:08,764 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,764 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,765 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,765 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,765 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, '\nCREATE TABLE extractions (\n\tid INTEGER NOT NULL, \n\tuser_id VARCHAR NOT NULL, \n\tdocument_id INTEGER NOT NULL, \n\ttenant_name VARCHAR, \n\tlandlord_name VARCHAR, \n\tproperty_address VARCHAR, \n\tmonthly_rent FLOAT, \n\tsecurity_deposit FLOAT, \n\tlease_start_date VARCHAR, \n\tlease_end_date VARCHAR, \n\trenewal_notice_days INTEGER, \n\tpet_policy VARCHAR, \n\tlate_fee_terms VARCHAR, \n\trisk_flags VARCHAR, \n\tcompliance_data TEXT, \n\traw_extraction VARCHAR, \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
2026-02-07 22:59:08,781 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, '\nCREATE TABLE extractions (\n\tid INTEGER NOT NULL, \n\tuser_id VARCHAR NOT NULL, \n\tdocument_id INTEGER NOT NULL, \n\ttenant_name VARCHAR, \n\tlandlord_name VARCHAR, \n\tproperty_address VARCHAR, \n\tmonthly_rent FLOAT, \n\tsecurity_deposit FLOAT, \n\tlease_start_date VARCHAR, \n\tlease_end_date VARCHAR, \n\trenewal_notice_days INTEGER, \n\tpet_policy VARCHAR, \n\tlate_fee_terms VARCHAR, \n\trisk_flags VARCHAR, \n\tcompliance_data TEXT, \n\traw_extraction VARCHAR, \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
2026-02-07 22:59:08,781 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,781 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,782 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,782 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,782 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'CREATE INDEX ix_extractions_id ON extractions (id)', ())
2026-02-07 22:59:08,796 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'CREATE INDEX ix_extractions_id ON extractions (id)', ()) completed
2026-02-07 22:59:08,796 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,797 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,797 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,798 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,798 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, '\nCREATE TABLE user_credits (\n\tid INTEGER NOT NULL, \n\tuser_id VARCHAR NOT NULL, \n\tfree_credits INTEGER, \n\tpaid_credits INTEGER, \n\tsubscription_type VARCHAR, \n\tsubscription_expires_at DATETIME, \n\tcreated_at DATETIME, \n\tupdated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
2026-02-07 22:59:08,820 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, '\nCREATE TABLE user_credits (\n\tid INTEGER NOT NULL, \n\tuser_id VARCHAR NOT NULL, \n\tfree_credits INTEGER, \n\tpaid_credits INTEGER, \n\tsubscription_type VARCHAR, \n\tsubscription_expires_at DATETIME, \n\tcreated_at DATETIME, \n\tupdated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
2026-02-07 22:59:08,820 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,820 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,821 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,821 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,821 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'CREATE INDEX ix_user_credits_id ON user_credits (id)', ())
2026-02-07 22:59:08,836 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'CREATE INDEX ix_user_credits_id ON user_credits (id)', ()) completed
2026-02-07 22:59:08,836 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,836 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,837 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,837 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,838 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, '\nCREATE TABLE state_regulations (\n\tid INTEGER NOT NULL, \n\tstate_code VARCHAR NOT NULL, \n\tstate_name VARCHAR NOT NULL, \n\tregulation_category VARCHAR NOT NULL, \n\tregulation_title VARCHAR NOT NULL, \n\tregulation_content VARCHAR NOT NULL, \n\tmax_amount FLOAT, \n\tmax_multiplier FLOAT, \n\trequired_days INTEGER, \n\tsource_url VARCHAR, \n\tlast_updated VARCHAR, \n\tPRIMARY KEY (id)\n)\n\n', ())
2026-02-07 22:59:08,855 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, '\nCREATE TABLE state_regulations (\n\tid INTEGER NOT NULL, \n\tstate_code VARCHAR NOT NULL, \n\tstate_name VARCHAR NOT NULL, \n\tregulation_category VARCHAR NOT NULL, \n\tregulation_title VARCHAR NOT NULL, \n\tregulation_content VARCHAR NOT NULL, \n\tmax_amount FLOAT, \n\tmax_multiplier FLOAT, \n\trequired_days INTEGER, \n\tsource_url VARCHAR, \n\tlast_updated VARCHAR, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
2026-02-07 22:59:08,855 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,856 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,856 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,856 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,856 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'CREATE INDEX ix_state_regulations_id ON state_regulations (id)', ())
2026-02-07 22:59:08,871 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'CREATE INDEX ix_state_regulations_id ON state_regulations (id)', ()) completed
2026-02-07 22:59:08,872 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,873 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,873 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,874 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,874 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, '\nCREATE TABLE payments (\n\tid INTEGER NOT NULL, \n\tuser_id VARCHAR NOT NULL, \n\tstripe_session_id VARCHAR, \n\tamount FLOAT NOT NULL, \n\tcurrency VARCHAR, \n\tpayment_type VARCHAR, \n\tcredits_purchased INTEGER, \n\tstatus VARCHAR NOT NULL, \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ())
2026-02-07 22:59:08,888 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, '\nCREATE TABLE payments (\n\tid INTEGER NOT NULL, \n\tuser_id VARCHAR NOT NULL, \n\tstripe_session_id VARCHAR, \n\tamount FLOAT NOT NULL, \n\tcurrency VARCHAR, \n\tpayment_type VARCHAR, \n\tcredits_purchased INTEGER, \n\tstatus VARCHAR NOT NULL, \n\tcreated_at DATETIME, \n\tPRIMARY KEY (id)\n)\n\n', ()) completed
2026-02-07 22:59:08,889 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,889 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,890 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,890 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,890 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'CREATE INDEX ix_payments_id ON payments (id)', ())
2026-02-07 22:59:08,908 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'CREATE INDEX ix_payments_id ON payments (id)', ()) completed
2026-02-07 22:59:08,908 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,908 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,909 - core.database - INFO - Tables initialized successfully
2026-02-07 22:59:08,909 - core.database - DEBUG - [DB_OP] Create tables completed in 0.3070s
2026-02-07 22:59:08,909 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,910 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,910 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,910 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,910 - services.database - INFO - ðŸ”§ Table creation completed
2026-02-07 22:59:08,910 - services.database - INFO - Database initialized successfully
2026-02-07 22:59:08,911 - services.database - DEBUG - [DB_OP] Database initialization completed in 0.7605s
2026-02-07 22:59:08,912 - services.mock_data - INFO - Processing mock data file state_regulations.json for table state_regulations
2026-02-07 22:59:08,913 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,913 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,913 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'SELECT 1', [])
2026-02-07 22:59:08,913 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'SELECT 1', []) completed
2026-02-07 22:59:08,914 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,914 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,914 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,914 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,915 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,915 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,915 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.table_xinfo("state_regulations")', ())
2026-02-07 22:59:08,919 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.table_xinfo("state_regulations")', ()) completed
2026-02-07 22:59:08,919 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,919 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,920 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,920 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,920 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,920 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,920 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, "SELECT sql FROM  (SELECT * FROM sqlite_master UNION ALL   SELECT * FROM sqlite_temp_master) WHERE name = ? AND type in ('table', 'view')", ('state_regulations',))
2026-02-07 22:59:08,922 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, "SELECT sql FROM  (SELECT * FROM sqlite_master UNION ALL   SELECT * FROM sqlite_temp_master) WHERE name = ? AND type in ('table', 'view')", ('state_regulations',)) completed
2026-02-07 22:59:08,923 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,923 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,924 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,924 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,924 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,924 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,924 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.foreign_key_list("state_regulations")', ())
2026-02-07 22:59:08,924 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.foreign_key_list("state_regulations")', ()) completed
2026-02-07 22:59:08,924 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,925 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,925 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,925 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,925 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,925 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,925 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA temp.foreign_key_list("state_regulations")', ())
2026-02-07 22:59:08,925 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA temp.foreign_key_list("state_regulations")', ()) completed
2026-02-07 22:59:08,925 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,926 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,926 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,926 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,926 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,926 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,926 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, "SELECT sql FROM  (SELECT * FROM sqlite_master UNION ALL   SELECT * FROM sqlite_temp_master) WHERE name = ? AND type in ('table', 'view')", ('state_regulations',))
2026-02-07 22:59:08,929 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, "SELECT sql FROM  (SELECT * FROM sqlite_master UNION ALL   SELECT * FROM sqlite_temp_master) WHERE name = ? AND type in ('table', 'view')", ('state_regulations',)) completed
2026-02-07 22:59:08,929 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,930 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,930 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,930 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,932 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,932 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,932 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.index_list("state_regulations")', ())
2026-02-07 22:59:08,935 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.index_list("state_regulations")', ()) completed
2026-02-07 22:59:08,935 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,935 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,936 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,936 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,936 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,936 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,936 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.index_info("ix_state_regulations_id")', ())
2026-02-07 22:59:08,939 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.index_info("ix_state_regulations_id")', ()) completed
2026-02-07 22:59:08,940 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,941 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,941 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,941 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,941 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,941 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,942 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.index_list("state_regulations")', ())
2026-02-07 22:59:08,944 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.index_list("state_regulations")', ()) completed
2026-02-07 22:59:08,944 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,945 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,945 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,945 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,946 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,946 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,946 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.index_info("ix_state_regulations_id")', ())
2026-02-07 22:59:08,948 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'PRAGMA main.index_info("ix_state_regulations_id")', ()) completed
2026-02-07 22:59:08,948 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,949 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,949 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,949 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,949 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,949 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,949 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, "SELECT sql FROM  (SELECT * FROM sqlite_master UNION ALL   SELECT * FROM sqlite_temp_master) WHERE name = ? AND type in ('table', 'view')", ('state_regulations',))
2026-02-07 22:59:08,954 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, "SELECT sql FROM  (SELECT * FROM sqlite_master UNION ALL   SELECT * FROM sqlite_temp_master) WHERE name = ? AND type in ('table', 'view')", ('state_regulations',)) completed
2026-02-07 22:59:08,954 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,955 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,955 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,955 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,960 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,960 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,960 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'SELECT count(*) AS count_1 \nFROM state_regulations', ())
2026-02-07 22:59:08,964 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff1bd2c0>, 'SELECT count(*) AS count_1 \nFROM state_regulations', ()) completed
2026-02-07 22:59:08,964 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,965 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,965 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,965 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,983 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:08,983 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:08,984 - aiosqlite - DEBUG - executing functools.partial(<built-in method executemany of sqlite3.Cursor object at 0x7effff1bd2c0>, 'INSERT INTO state_regulations (state_code, state_name, regulation_category, regulation_title, regulation_content, max_multiplier, required_days, source_url, last_updated) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)', [('CA', 'California', 'security_deposit_limit', 'Security Deposit Maximum', "For unfurnished units, the maximum security deposit is 2 months' rent. For furnished units, the maximum is 3 months' rent.", 2.0, None, 'https://leginfo.legislature.ca.gov/faces/codes_displaySection.xhtml?sectionNum=1950.5.&lawCode=CIV', '2026-01-01 00:00:00'), ('CA', 'California', 'security_deposit_return', 'Security Deposit Return Period', 'Landlord must return the security deposit within 21 days after the tenant moves out.', None, 21, 'https://leginfo.legislature.ca.gov/faces/codes_displaySection.xhtml?sectionNum=1950.5.&lawCode=CIV', '2026-01-01 00:00:00'), ('CA', 'California', 'late_fee_limit', 'Late Fee Restrictions', "Late fees must be reasonable and reflect the landlord's actual costs. Courts typically consider 5-6% of monthly rent as reasonable.", 0.06, None, 'https://leginfo.legislature.ca.gov/', '2026-01-01 00:00:00'), ('CA', 'California', 'notice_to_vacate', 'Notice to Vacate Period', 'For month-to-month tenancies: 30 days notice if tenant has lived there less than 1 year, 60 days if more than 1 year.', None, 30, 'https://leginfo.legislature.ca.gov/faces/codes_displaySection.xhtml?sectionNum=1946.1.&lawCode=CIV', '2026-01-01 00:00:00'), ('CA', 'California', 'rent_increase_notice', 'Rent Increase Notice Period', '30 days notice for increases of 10% or less within 12 months. 90 days notice for increases greater than 10%.', None, 30, 'https://leginfo.legislature.ca.gov/faces/codes_displaySection.xhtml?sectionNum=827.&lawCode=CIV', '2026-01-01 00:00:00'), ('TX', 'Texas', 'security_deposit_limit', 'Security Deposit Maximum', 'Texas has no statutory limit on security deposit amounts. Landlords may charge any amount they choose.', None, None, 'https://statutes.capitol.texas.gov/Docs/PR/htm/PR.92.htm', '2026-01-01 00:00:00'), ('TX', 'Texas', 'security_deposit_return', 'Security Deposit Return Period', 'Landlord must return the security deposit within 30 days after the tenant moves out and provides a forwarding address.', None, 30, 'https://statutes.capitol.texas.gov/Docs/PR/htm/PR.92.htm#92.103', '2026-01-01 00:00:00'), ('TX', 'Texas', 'late_fee_limit', 'Late Fee Restrictions', 'Late fees must be reasonable. A late fee may not be charged until the rent remains unpaid one full day after the due date.', None, None, 'https://statutes.capitol.texas.gov/Docs/PR/htm/PR.92.htm#92.019', '2026-01-01 00:00:00'), ('TX', 'Texas', 'notice_to_vacate', 'Notice to Vacate Period', "For month-to-month tenancies, either party must give at least one month's notice to terminate.", None, 30, 'https://statutes.capitol.texas.gov/Docs/PR/htm/PR.91.htm#91.001', '2026-01-01 00:00:00'), ('TX', 'Texas', 'rent_increase_notice', 'Rent Increase Notice Period', 'Texas has no statutory requirement for rent increase notice. However, landlords cannot increase rent during a fixed-term lease unless the lease allows it.', None, None, 'https://statutes.capitol.texas.gov/Docs/PR/htm/PR.92.htm', '2026-01-01 00:00:00'), ('FL', 'Florida', 'security_deposit_limit', 'Security Deposit Maximum', 'Florida has no statutory limit on security deposit amounts.', None, None, 'http://www.leg.state.fl.us/statutes/index.cfm?App_mode=Display_Statute&URL=0000-0099/0083/0083.html', '2026-01-01 00:00:00'), ('FL', 'Florida', 'security_deposit_return', 'Security Deposit Return Period', 'Landlord must return the security deposit within 15 days if no deductions, or 30 days with an itemized list of deductions.', None, 15, 'http://www.leg.state.fl.us/statutes/index.cfm?App_mode=Display_Statute&URL=0000-0099/0083/Sections/0083.49.html', '2026-01-01 00:00:00'), ('FL', 'Florida', 'late_fee_limit', 'Late Fee Restrictions', 'Florida law does not specify a maximum late fee amount. Late fees must be reasonable and specified in the lease.', None, None, 'http://www.leg.state.fl.us/statutes/index.cfm?App_mode=Display_Statute&URL=0000-0099/0083/0083.html', '2026-01-01 00:00:00'), ('FL', 'Florida', 'notice_to_vacate', 'Notice to Vacate Period', 'For month-to-month tenancies, 15 days notice is required before the end of any monthly period.', None, 15, 'http://www.leg.state.fl.us/statutes/index.cfm?App_mode=Display_Statute&URL=0000-0099/0083/Sections/0083.57.html', '2026-01-01 00:00:00'), ('FL', 'Florida', 'rent_increase_notice', 'Rent Increase Notice Period', 'For month-to-month tenancies, landlord must give 15 days notice before increasing rent.', None, 15, 'http://www.leg.state.fl.us/statutes/index.cfm?App_mode=Display_Statute&URL=0000-0099/0083/0083.html', '2026-01-01 00:00:00'), ('NY', 'New York', 'security_deposit_limit', 'Security Deposit Maximum', "For most residential rentals, the maximum security deposit is one month's rent.", 1.0, None, 'https://www.nysenate.gov/legislation/laws/GOB/7-108', '2026-01-01 00:00:00'), ('NY', 'New York', 'security_deposit_return', 'Security Deposit Return Period', 'Landlord must return the security deposit within 14 days after the tenant moves out.', None, 14, 'https://www.nysenate.gov/legislation/laws/GOB/7-108', '2026-01-01 00:00:00'), ('NY', 'New York', 'late_fee_limit', 'Late Fee Restrictions', 'Late fees cannot exceed $50 or 5% of the monthly rent, whichever is less. Late fees cannot be charged until rent is 5 days late.', 0.05, 5, 'https://www.nysenate.gov/legislation/laws/RPP/238-A', '2026-01-01 00:00:00'), ('NY', 'New York', 'notice_to_vacate', 'Notice to Vacate Period', 'For tenancies less than 1 year: 30 days. For 1-2 years: 60 days. For more than 2 years: 90 days.', None, 30, 'https://www.nysenate.gov/legislation/laws/RPP/226-C', '2026-01-01 00:00:00'), ('NY', 'New York', 'rent_increase_notice', 'Rent Increase Notice Period', 'For tenancies less than 1 year or month-to-month: 30 days. For 1-2 years: 60 days. For more than 2 years: 90 days.', None, 30, 'https://www.nysenate.gov/legislation/laws/RPP/226-C', '2026-01-01 00:00:00'), ('PA', 'Pennsylvania', 'security_deposit_limit', 'Security Deposit Maximum', "First year: maximum 2 months' rent. After first year: maximum 1 month's rent.", 2.0, None, 'https://www.legis.state.pa.us/cfdocs/legis/LI/consCheck.cfm?txtType=HTM&ttl=68&div=0&chpt=2&sctn=50&subsctn=3', '2026-01-01 00:00:00'), ('PA', 'Pennsylvania', 'security_deposit_return', 'Security Deposit Return Period', 'Landlord must return the security deposit within 30 days after the lease ends or tenant moves out.', None, 30, 'https://www.legis.state.pa.us/cfdocs/legis/LI/consCheck.cfm?txtType=HTM&ttl=68&div=0&chpt=2&sctn=50&subsctn=12', '2026-01-01 00:00:00'), ('PA', 'Pennsylvania', 'late_fee_limit', 'Late Fee Restrictions', 'Pennsylvania law does not specify a maximum late fee. Late fees must be reasonable and specified in the lease.', None, None, 'https://www.legis.state.pa.us/', '2026-01-01 00:00:00'), ('PA', 'Pennsylvania', 'notice_to_vacate', 'Notice to Vacate Period', 'For leases of 1 year or more: 30 days notice. For leases less than 1 year: notice equal to the lease term.', None, 30, 'https://www.legis.state.pa.us/cfdocs/legis/LI/consCheck.cfm?txtType=HTM&ttl=68&div=0&chpt=2&sctn=50&subsctn=1', '2026-01-01 00:00:00'), ('PA', 'Pennsylvania', 'rent_increase_notice', 'Rent Increase Notice Period', 'Pennsylvania law does not specify a minimum notice period for rent increases. Check your lease for specific terms.', None, None, 'https://www.legis.state.pa.us/', '2026-01-01 00:00:00'), ('IL', 'Illinois', 'security_deposit_limit', 'Security Deposit Maximum', "Illinois has no statewide limit on security deposits. Chicago limits deposits to 1.5 months' rent.", 1.5, None, 'https://www.ilga.gov/legislation/ilcs/ilcs3.asp?ActID=2202&ChapterID=62', '2026-01-01 00:00:00'), ('IL', 'Illinois', 'security_deposit_return', 'Security Deposit Return Period', 'Landlord must return the security deposit within 30 days (45 days if deductions are made with itemized statement).', None, 30, 'https://www.ilga.gov/legislation/ilcs/ilcs3.asp?ActID=2202&ChapterID=62', '2026-01-01 00:00:00'), ('IL', 'Illinois', 'late_fee_limit', 'Late Fee Restrictions', 'Late fees cannot exceed $20 per month for the first $500 of rent, plus 5% of any amount over $500.', 0.05, None, 'https://www.ilga.gov/legislation/ilcs/ilcs3.asp?ActID=2202&ChapterID=62', '2026-01-01 00:00:00'), ('IL', 'Illinois', 'notice_to_vacate', 'Notice to Vacate Period', 'For month-to-month tenancies, 30 days written notice is required.', None, 30, 'https://www.ilga.gov/legislation/ilcs/ilcs3.asp?ActID=2017&ChapterID=56', '2026-01-01 00:00:00'), ('IL', 'Illinois', 'rent_increase_notice', 'Rent Increase Notice Period', 'For month-to-month tenancies, 30 days written notice is required before increasing rent.', None, 30, 'https://www.ilga.gov/legislation/ilcs/ilcs3.asp?ActID=2017&ChapterID=56', '2026-01-01 00:00:00'), ('OH', 'Ohio', 'security_deposit_limit', 'Security Deposit Maximum', 'Ohio has no statutory limit on security deposit amounts.', None, None, 'https://codes.ohio.gov/ohio-revised-code/chapter-5321', '2026-01-01 00:00:00'), ('OH', 'Ohio', 'security_deposit_return', 'Security Deposit Return Period', 'Landlord must return the security deposit within 30 days after the tenant moves out.', None, 30, 'https://codes.ohio.gov/ohio-revised-code/section-5321.16', '2026-01-01 00:00:00'), ('OH', 'Ohio', 'late_fee_limit', 'Late Fee Restrictions', 'Ohio law does not specify a maximum late fee. Late fees must be reasonable and specified in the lease.', None, None, 'https://codes.ohio.gov/ohio-revised-code/chapter-5321', '2026-01-01 00:00:00'), ('OH', 'Ohio', 'notice_to_vacate', 'Notice to Vacate Period', 'For month-to-month tenancies, 30 days written notice is required.', None, 30, 'https://codes.ohio.gov/ohio-revised-code/section-5321.17', '2026-01-01 00:00:00'), ('OH', 'Ohio', 'rent_increase_notice', 'Rent Increase Notice Period', 'Ohio law does not specify a minimum notice period for rent increases for month-to-month tenancies.', None, None, 'https://codes.ohio.gov/ohio-revised-code/chapter-5321', '2026-01-01 00:00:00'), ('GA', 'Georgia', 'security_deposit_limit', 'Security Deposit Maximum', 'Georgia has no statutory limit on security deposit amounts.', None, None, 'https://law.justia.com/codes/georgia/2020/title-44/chapter-7/article-2/', '2026-01-01 00:00:00'), ('GA', 'Georgia', 'security_deposit_return', 'Security Deposit Return Period', 'Landlord must return the security deposit within 30 days after the tenant moves out.', None, 30, 'https://law.justia.com/codes/georgia/2020/title-44/chapter-7/article-2/section-44-7-34/', '2026-01-01 00:00:00'), ('GA', 'Georgia', 'late_fee_limit', 'Late Fee Restrictions', 'Georgia law does not specify a maximum late fee. Late fees must be reasonable and specified in the lease.', None, None, 'https://law.justia.com/codes/georgia/2020/title-44/chapter-7/', '2026-01-01 00:00:00'), ('GA', 'Georgia', 'notice_to_vacate', 'Notice to Vacate Period', 'For month-to-month tenancies, 30 days written notice is required.', None, 30, 'https://law.justia.com/codes/georgia/2020/title-44/chapter-7/article-1/section-44-7-7/', '2026-01-01 00:00:00'), ('GA', 'Georgia', 'rent_increase_notice', 'Rent Increase Notice Period', 'Georgia law does not specify a minimum notice period for rent increases.', None, None, 'https://law.justia.com/codes/georgia/2020/title-44/chapter-7/', '2026-01-01 00:00:00'), ('NC', 'North Carolina', 'security_deposit_limit', 'Security Deposit Maximum', "For month-to-month: 1.5 months' rent. For leases longer than 2 months: 2 months' rent.", 2.0, None, 'https://www.ncleg.gov/EnactedLegislation/Statutes/PDF/BySection/Chapter_42/GS_42-51.pdf', '2026-01-01 00:00:00'), ('NC', 'North Carolina', 'security_deposit_return', 'Security Deposit Return Period', 'Landlord must return the security deposit within 30 days after the lease ends.', None, 30, 'https://www.ncleg.gov/EnactedLegislation/Statutes/PDF/BySection/Chapter_42/GS_42-52.pdf', '2026-01-01 00:00:00'), ('NC', 'North Carolina', 'late_fee_limit', 'Late Fee Restrictions', 'Late fees cannot exceed $15 or 5% of the monthly rent, whichever is greater. Late fees cannot be charged until rent is 5 days late.', 0.05, 5, 'https://www.ncleg.gov/EnactedLegislation/Statutes/PDF/BySection/Chapter_42/GS_42-46.pdf', '2026-01-01 00:00:00'), ('NC', 'North Carolina', 'notice_to_vacate', 'Notice to Vacate Period', 'For month-to-month tenancies, 7 days written notice is required.', None, 7, 'https://www.ncleg.gov/EnactedLegislation/Statutes/PDF/BySection/Chapter_42/GS_42-14.pdf', '2026-01-01 00:00:00'), ('NC', 'North Carolina', 'rent_increase_notice', 'Rent Increase Notice Period', 'North Carolina law does not specify a minimum notice period for rent increases.', None, None, 'https://www.ncleg.gov/EnactedLegislation/Statutes/PDF/ByChapter/Chapter_42.pdf', '2026-01-01 00:00:00'), ('MI', 'Michigan', 'security_deposit_limit', 'Security Deposit Maximum', "Maximum security deposit is 1.5 months' rent.", 1.5, None, 'http://www.legislature.mi.gov/(S(aqfpxvkdnrxfcjjxnqr1zzwv))/mileg.aspx?page=getObject&objectName=mcl-554-602', '2026-01-01 00:00:00'), ('MI', 'Michigan', 'security_deposit_return', 'Security Deposit Return Period', 'Landlord must return the security deposit within 30 days after the tenant moves out.', None, 30, 'http://www.legislature.mi.gov/(S(aqfpxvkdnrxfcjjxnqr1zzwv))/mileg.aspx?page=getObject&objectName=mcl-554-609', '2026-01-01 00:00:00'), ('MI', 'Michigan', 'late_fee_limit', 'Late Fee Restrictions', 'Michigan law does not specify a maximum late fee. Late fees must be reasonable and specified in the lease.', None, None, 'http://www.legislature.mi.gov/', '2026-01-01 00:00:00'), ('MI', 'Michigan', 'notice_to_vacate', 'Notice to Vacate Period', 'For month-to-month tenancies, 30 days written notice is required.', None, 30, 'http://www.legislature.mi.gov/(S(aqfpxvkdnrxfcjjxnqr1zzwv))/mileg.aspx?page=getObject&objectName=mcl-554-134', '2026-01-01 00:00:00'), ('MI', 'Michigan', 'rent_increase_notice', 'Rent Increase Notice Period', 'Michigan law does not specify a minimum notice period for rent increases for month-to-month tenancies.', None, None, 'http://www.legislature.mi.gov/', '2026-01-01 00:00:00')])
2026-02-07 22:59:08,991 - aiosqlite - DEBUG - operation functools.partial(<built-in method executemany of sqlite3.Cursor object at 0x7effff1bd2c0>, 'INSERT INTO state_regulations (state_code, state_name, regulation_category, regulation_title, regulation_content, max_multiplier, required_days, source_url, last_updated) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)', [('CA', 'California', 'security_deposit_limit', 'Security Deposit Maximum', "For unfurnished units, the maximum security deposit is 2 months' rent. For furnished units, the maximum is 3 months' rent.", 2.0, None, 'https://leginfo.legislature.ca.gov/faces/codes_displaySection.xhtml?sectionNum=1950.5.&lawCode=CIV', '2026-01-01 00:00:00'), ('CA', 'California', 'security_deposit_return', 'Security Deposit Return Period', 'Landlord must return the security deposit within 21 days after the tenant moves out.', None, 21, 'https://leginfo.legislature.ca.gov/faces/codes_displaySection.xhtml?sectionNum=1950.5.&lawCode=CIV', '2026-01-01 00:00:00'), ('CA', 'California', 'late_fee_limit', 'Late Fee Restrictions', "Late fees must be reasonable and reflect the landlord's actual costs. Courts typically consider 5-6% of monthly rent as reasonable.", 0.06, None, 'https://leginfo.legislature.ca.gov/', '2026-01-01 00:00:00'), ('CA', 'California', 'notice_to_vacate', 'Notice to Vacate Period', 'For month-to-month tenancies: 30 days notice if tenant has lived there less than 1 year, 60 days if more than 1 year.', None, 30, 'https://leginfo.legislature.ca.gov/faces/codes_displaySection.xhtml?sectionNum=1946.1.&lawCode=CIV', '2026-01-01 00:00:00'), ('CA', 'California', 'rent_increase_notice', 'Rent Increase Notice Period', '30 days notice for increases of 10% or less within 12 months. 90 days notice for increases greater than 10%.', None, 30, 'https://leginfo.legislature.ca.gov/faces/codes_displaySection.xhtml?sectionNum=827.&lawCode=CIV', '2026-01-01 00:00:00'), ('TX', 'Texas', 'security_deposit_limit', 'Security Deposit Maximum', 'Texas has no statutory limit on security deposit amounts. Landlords may charge any amount they choose.', None, None, 'https://statutes.capitol.texas.gov/Docs/PR/htm/PR.92.htm', '2026-01-01 00:00:00'), ('TX', 'Texas', 'security_deposit_return', 'Security Deposit Return Period', 'Landlord must return the security deposit within 30 days after the tenant moves out and provides a forwarding address.', None, 30, 'https://statutes.capitol.texas.gov/Docs/PR/htm/PR.92.htm#92.103', '2026-01-01 00:00:00'), ('TX', 'Texas', 'late_fee_limit', 'Late Fee Restrictions', 'Late fees must be reasonable. A late fee may not be charged until the rent remains unpaid one full day after the due date.', None, None, 'https://statutes.capitol.texas.gov/Docs/PR/htm/PR.92.htm#92.019', '2026-01-01 00:00:00'), ('TX', 'Texas', 'notice_to_vacate', 'Notice to Vacate Period', "For month-to-month tenancies, either party must give at least one month's notice to terminate.", None, 30, 'https://statutes.capitol.texas.gov/Docs/PR/htm/PR.91.htm#91.001', '2026-01-01 00:00:00'), ('TX', 'Texas', 'rent_increase_notice', 'Rent Increase Notice Period', 'Texas has no statutory requirement for rent increase notice. However, landlords cannot increase rent during a fixed-term lease unless the lease allows it.', None, None, 'https://statutes.capitol.texas.gov/Docs/PR/htm/PR.92.htm', '2026-01-01 00:00:00'), ('FL', 'Florida', 'security_deposit_limit', 'Security Deposit Maximum', 'Florida has no statutory limit on security deposit amounts.', None, None, 'http://www.leg.state.fl.us/statutes/index.cfm?App_mode=Display_Statute&URL=0000-0099/0083/0083.html', '2026-01-01 00:00:00'), ('FL', 'Florida', 'security_deposit_return', 'Security Deposit Return Period', 'Landlord must return the security deposit within 15 days if no deductions, or 30 days with an itemized list of deductions.', None, 15, 'http://www.leg.state.fl.us/statutes/index.cfm?App_mode=Display_Statute&URL=0000-0099/0083/Sections/0083.49.html', '2026-01-01 00:00:00'), ('FL', 'Florida', 'late_fee_limit', 'Late Fee Restrictions', 'Florida law does not specify a maximum late fee amount. Late fees must be reasonable and specified in the lease.', None, None, 'http://www.leg.state.fl.us/statutes/index.cfm?App_mode=Display_Statute&URL=0000-0099/0083/0083.html', '2026-01-01 00:00:00'), ('FL', 'Florida', 'notice_to_vacate', 'Notice to Vacate Period', 'For month-to-month tenancies, 15 days notice is required before the end of any monthly period.', None, 15, 'http://www.leg.state.fl.us/statutes/index.cfm?App_mode=Display_Statute&URL=0000-0099/0083/Sections/0083.57.html', '2026-01-01 00:00:00'), ('FL', 'Florida', 'rent_increase_notice', 'Rent Increase Notice Period', 'For month-to-month tenancies, landlord must give 15 days notice before increasing rent.', None, 15, 'http://www.leg.state.fl.us/statutes/index.cfm?App_mode=Display_Statute&URL=0000-0099/0083/0083.html', '2026-01-01 00:00:00'), ('NY', 'New York', 'security_deposit_limit', 'Security Deposit Maximum', "For most residential rentals, the maximum security deposit is one month's rent.", 1.0, None, 'https://www.nysenate.gov/legislation/laws/GOB/7-108', '2026-01-01 00:00:00'), ('NY', 'New York', 'security_deposit_return', 'Security Deposit Return Period', 'Landlord must return the security deposit within 14 days after the tenant moves out.', None, 14, 'https://www.nysenate.gov/legislation/laws/GOB/7-108', '2026-01-01 00:00:00'), ('NY', 'New York', 'late_fee_limit', 'Late Fee Restrictions', 'Late fees cannot exceed $50 or 5% of the monthly rent, whichever is less. Late fees cannot be charged until rent is 5 days late.', 0.05, 5, 'https://www.nysenate.gov/legislation/laws/RPP/238-A', '2026-01-01 00:00:00'), ('NY', 'New York', 'notice_to_vacate', 'Notice to Vacate Period', 'For tenancies less than 1 year: 30 days. For 1-2 years: 60 days. For more than 2 years: 90 days.', None, 30, 'https://www.nysenate.gov/legislation/laws/RPP/226-C', '2026-01-01 00:00:00'), ('NY', 'New York', 'rent_increase_notice', 'Rent Increase Notice Period', 'For tenancies less than 1 year or month-to-month: 30 days. For 1-2 years: 60 days. For more than 2 years: 90 days.', None, 30, 'https://www.nysenate.gov/legislation/laws/RPP/226-C', '2026-01-01 00:00:00'), ('PA', 'Pennsylvania', 'security_deposit_limit', 'Security Deposit Maximum', "First year: maximum 2 months' rent. After first year: maximum 1 month's rent.", 2.0, None, 'https://www.legis.state.pa.us/cfdocs/legis/LI/consCheck.cfm?txtType=HTM&ttl=68&div=0&chpt=2&sctn=50&subsctn=3', '2026-01-01 00:00:00'), ('PA', 'Pennsylvania', 'security_deposit_return', 'Security Deposit Return Period', 'Landlord must return the security deposit within 30 days after the lease ends or tenant moves out.', None, 30, 'https://www.legis.state.pa.us/cfdocs/legis/LI/consCheck.cfm?txtType=HTM&ttl=68&div=0&chpt=2&sctn=50&subsctn=12', '2026-01-01 00:00:00'), ('PA', 'Pennsylvania', 'late_fee_limit', 'Late Fee Restrictions', 'Pennsylvania law does not specify a maximum late fee. Late fees must be reasonable and specified in the lease.', None, None, 'https://www.legis.state.pa.us/', '2026-01-01 00:00:00'), ('PA', 'Pennsylvania', 'notice_to_vacate', 'Notice to Vacate Period', 'For leases of 1 year or more: 30 days notice. For leases less than 1 year: notice equal to the lease term.', None, 30, 'https://www.legis.state.pa.us/cfdocs/legis/LI/consCheck.cfm?txtType=HTM&ttl=68&div=0&chpt=2&sctn=50&subsctn=1', '2026-01-01 00:00:00'), ('PA', 'Pennsylvania', 'rent_increase_notice', 'Rent Increase Notice Period', 'Pennsylvania law does not specify a minimum notice period for rent increases. Check your lease for specific terms.', None, None, 'https://www.legis.state.pa.us/', '2026-01-01 00:00:00'), ('IL', 'Illinois', 'security_deposit_limit', 'Security Deposit Maximum', "Illinois has no statewide limit on security deposits. Chicago limits deposits to 1.5 months' rent.", 1.5, None, 'https://www.ilga.gov/legislation/ilcs/ilcs3.asp?ActID=2202&ChapterID=62', '2026-01-01 00:00:00'), ('IL', 'Illinois', 'security_deposit_return', 'Security Deposit Return Period', 'Landlord must return the security deposit within 30 days (45 days if deductions are made with itemized statement).', None, 30, 'https://www.ilga.gov/legislation/ilcs/ilcs3.asp?ActID=2202&ChapterID=62', '2026-01-01 00:00:00'), ('IL', 'Illinois', 'late_fee_limit', 'Late Fee Restrictions', 'Late fees cannot exceed $20 per month for the first $500 of rent, plus 5% of any amount over $500.', 0.05, None, 'https://www.ilga.gov/legislation/ilcs/ilcs3.asp?ActID=2202&ChapterID=62', '2026-01-01 00:00:00'), ('IL', 'Illinois', 'notice_to_vacate', 'Notice to Vacate Period', 'For month-to-month tenancies, 30 days written notice is required.', None, 30, 'https://www.ilga.gov/legislation/ilcs/ilcs3.asp?ActID=2017&ChapterID=56', '2026-01-01 00:00:00'), ('IL', 'Illinois', 'rent_increase_notice', 'Rent Increase Notice Period', 'For month-to-month tenancies, 30 days written notice is required before increasing rent.', None, 30, 'https://www.ilga.gov/legislation/ilcs/ilcs3.asp?ActID=2017&ChapterID=56', '2026-01-01 00:00:00'), ('OH', 'Ohio', 'security_deposit_limit', 'Security Deposit Maximum', 'Ohio has no statutory limit on security deposit amounts.', None, None, 'https://codes.ohio.gov/ohio-revised-code/chapter-5321', '2026-01-01 00:00:00'), ('OH', 'Ohio', 'security_deposit_return', 'Security Deposit Return Period', 'Landlord must return the security deposit within 30 days after the tenant moves out.', None, 30, 'https://codes.ohio.gov/ohio-revised-code/section-5321.16', '2026-01-01 00:00:00'), ('OH', 'Ohio', 'late_fee_limit', 'Late Fee Restrictions', 'Ohio law does not specify a maximum late fee. Late fees must be reasonable and specified in the lease.', None, None, 'https://codes.ohio.gov/ohio-revised-code/chapter-5321', '2026-01-01 00:00:00'), ('OH', 'Ohio', 'notice_to_vacate', 'Notice to Vacate Period', 'For month-to-month tenancies, 30 days written notice is required.', None, 30, 'https://codes.ohio.gov/ohio-revised-code/section-5321.17', '2026-01-01 00:00:00'), ('OH', 'Ohio', 'rent_increase_notice', 'Rent Increase Notice Period', 'Ohio law does not specify a minimum notice period for rent increases for month-to-month tenancies.', None, None, 'https://codes.ohio.gov/ohio-revised-code/chapter-5321', '2026-01-01 00:00:00'), ('GA', 'Georgia', 'security_deposit_limit', 'Security Deposit Maximum', 'Georgia has no statutory limit on security deposit amounts.', None, None, 'https://law.justia.com/codes/georgia/2020/title-44/chapter-7/article-2/', '2026-01-01 00:00:00'), ('GA', 'Georgia', 'security_deposit_return', 'Security Deposit Return Period', 'Landlord must return the security deposit within 30 days after the tenant moves out.', None, 30, 'https://law.justia.com/codes/georgia/2020/title-44/chapter-7/article-2/section-44-7-34/', '2026-01-01 00:00:00'), ('GA', 'Georgia', 'late_fee_limit', 'Late Fee Restrictions', 'Georgia law does not specify a maximum late fee. Late fees must be reasonable and specified in the lease.', None, None, 'https://law.justia.com/codes/georgia/2020/title-44/chapter-7/', '2026-01-01 00:00:00'), ('GA', 'Georgia', 'notice_to_vacate', 'Notice to Vacate Period', 'For month-to-month tenancies, 30 days written notice is required.', None, 30, 'https://law.justia.com/codes/georgia/2020/title-44/chapter-7/article-1/section-44-7-7/', '2026-01-01 00:00:00'), ('GA', 'Georgia', 'rent_increase_notice', 'Rent Increase Notice Period', 'Georgia law does not specify a minimum notice period for rent increases.', None, None, 'https://law.justia.com/codes/georgia/2020/title-44/chapter-7/', '2026-01-01 00:00:00'), ('NC', 'North Carolina', 'security_deposit_limit', 'Security Deposit Maximum', "For month-to-month: 1.5 months' rent. For leases longer than 2 months: 2 months' rent.", 2.0, None, 'https://www.ncleg.gov/EnactedLegislation/Statutes/PDF/BySection/Chapter_42/GS_42-51.pdf', '2026-01-01 00:00:00'), ('NC', 'North Carolina', 'security_deposit_return', 'Security Deposit Return Period', 'Landlord must return the security deposit within 30 days after the lease ends.', None, 30, 'https://www.ncleg.gov/EnactedLegislation/Statutes/PDF/BySection/Chapter_42/GS_42-52.pdf', '2026-01-01 00:00:00'), ('NC', 'North Carolina', 'late_fee_limit', 'Late Fee Restrictions', 'Late fees cannot exceed $15 or 5% of the monthly rent, whichever is greater. Late fees cannot be charged until rent is 5 days late.', 0.05, 5, 'https://www.ncleg.gov/EnactedLegislation/Statutes/PDF/BySection/Chapter_42/GS_42-46.pdf', '2026-01-01 00:00:00'), ('NC', 'North Carolina', 'notice_to_vacate', 'Notice to Vacate Period', 'For month-to-month tenancies, 7 days written notice is required.', None, 7, 'https://www.ncleg.gov/EnactedLegislation/Statutes/PDF/BySection/Chapter_42/GS_42-14.pdf', '2026-01-01 00:00:00'), ('NC', 'North Carolina', 'rent_increase_notice', 'Rent Increase Notice Period', 'North Carolina law does not specify a minimum notice period for rent increases.', None, None, 'https://www.ncleg.gov/EnactedLegislation/Statutes/PDF/ByChapter/Chapter_42.pdf', '2026-01-01 00:00:00'), ('MI', 'Michigan', 'security_deposit_limit', 'Security Deposit Maximum', "Maximum security deposit is 1.5 months' rent.", 1.5, None, 'http://www.legislature.mi.gov/(S(aqfpxvkdnrxfcjjxnqr1zzwv))/mileg.aspx?page=getObject&objectName=mcl-554-602', '2026-01-01 00:00:00'), ('MI', 'Michigan', 'security_deposit_return', 'Security Deposit Return Period', 'Landlord must return the security deposit within 30 days after the tenant moves out.', None, 30, 'http://www.legislature.mi.gov/(S(aqfpxvkdnrxfcjjxnqr1zzwv))/mileg.aspx?page=getObject&objectName=mcl-554-609', '2026-01-01 00:00:00'), ('MI', 'Michigan', 'late_fee_limit', 'Late Fee Restrictions', 'Michigan law does not specify a maximum late fee. Late fees must be reasonable and specified in the lease.', None, None, 'http://www.legislature.mi.gov/', '2026-01-01 00:00:00'), ('MI', 'Michigan', 'notice_to_vacate', 'Notice to Vacate Period', 'For month-to-month tenancies, 30 days written notice is required.', None, 30, 'http://www.legislature.mi.gov/(S(aqfpxvkdnrxfcjjxnqr1zzwv))/mileg.aspx?page=getObject&objectName=mcl-554-134', '2026-01-01 00:00:00'), ('MI', 'Michigan', 'rent_increase_notice', 'Rent Increase Notice Period', 'Michigan law does not specify a minimum notice period for rent increases for month-to-month tenancies.', None, None, 'http://www.legislature.mi.gov/', '2026-01-01 00:00:00')]) completed
2026-02-07 22:59:08,992 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>)
2026-02-07 22:59:08,992 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff1bd2c0>) completed
2026-02-07 22:59:08,992 - services.mock_data - INFO - Inserted 50 mock records into state_regulations
2026-02-07 22:59:08,992 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:09,045 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:09,046 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 22:59:09,046 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 22:59:09,046 - services.database - DEBUG - [DB_OP] Starting database initialization
2026-02-07 22:59:09,046 - services.database - INFO - ðŸ”§ Starting database initialization...
2026-02-07 22:59:09,047 - core.database - INFO - Starting database initialization...
2026-02-07 22:59:09,047 - core.database - INFO - Database already initialized
2026-02-07 22:59:09,047 - services.database - INFO - ðŸ”§ Database connection initialized, now creating tables if tables not exist...
2026-02-07 22:59:09,047 - core.database - DEBUG - [DB_OP] Starting create_tables
2026-02-07 22:59:09,047 - core.database - INFO - Tables already initialized
2026-02-07 22:59:09,047 - services.database - INFO - ðŸ”§ Table creation completed
2026-02-07 22:59:09,047 - services.database - INFO - Database initialized successfully
2026-02-07 22:59:09,047 - services.database - DEBUG - [DB_OP] Database initialization completed in 0.0007s
2026-02-07 22:59:09,047 - services.auth - WARNING - Admin user ID or email not configured, skipping admin initialization
2026-02-07 22:59:09,047 - main - INFO - === Application startup completed successfully ===
2026-02-07 23:01:12,697 - main - ERROR - Exception: AttributeError: 'Settings' object has no attribute 'jwt_secret_key'
Traceback (most recent call last):
  File "/data/.cache/python/lib/python3.10/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/data/.cache/python/lib/python3.10/site-packages/starlette/middleware/cors.py", line 87, in __call__
    await self.app(scope, receive, send)
  File "/data/.cache/python/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/data/.cache/python/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/data/.cache/python/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/data/.cache/python/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/data/.cache/python/lib/python3.10/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/data/.cache/python/lib/python3.10/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/data/.cache/python/lib/python3.10/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/data/.cache/python/lib/python3.10/site-packages/fastapi/routing.py", line 121, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/data/.cache/python/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/data/.cache/python/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/data/.cache/python/lib/python3.10/site-packages/fastapi/routing.py", line 107, in app
    response = await f(request)
  File "/data/.cache/python/lib/python3.10/site-packages/fastapi/routing.py", line 416, in app
    solved_result = await solve_dependencies(
  File "/data/.cache/python/lib/python3.10/site-packages/fastapi/dependencies/utils.py", line 647, in solve_dependencies
    solved = await call(**solved_result.values)
  File "/workspace/app/backend/dependencies/auth.py", line 30, in get_current_user
    payload = decode_access_token(token)
  File "/workspace/app/backend/core/auth.py", line 106, in decode_access_token
    if not settings.jwt_secret_key:
  File "/workspace/app/backend/core/config.py", line 68, in __getattr__
    raise AttributeError(f"'{self.__class__.__name__}' object has no attribute '{name}'")
AttributeError: 'Settings' object has no attribute 'jwt_secret_key'

2026-02-07 23:01:14,735 - core.database - DEBUG - [DB_OP] Starting get_db session creation
2026-02-07 23:01:14,736 - core.database - DEBUG - [DB_OP] Database session created successfully in 0.0004s
2026-02-07 23:01:14,742 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 23:01:14,744 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 23:01:14,744 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff0bd4c0>, 'SELECT 1', [])
2026-02-07 23:01:14,745 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff0bd4c0>, 'SELECT 1', []) completed
2026-02-07 23:01:14,745 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff0bd4c0>)
2026-02-07 23:01:14,745 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff0bd4c0>) completed
2026-02-07 23:01:14,746 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff0bd4c0>)
2026-02-07 23:01:14,746 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff0bd4c0>) completed
2026-02-07 23:01:14,747 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 23:01:14,747 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 23:01:14,747 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff0bd4c0>, 'DELETE FROM oidc_states WHERE oidc_states.expires_at < ?', ('2026-02-08 07:01:14.736600',))
2026-02-07 23:01:14,842 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff0bd4c0>, 'DELETE FROM oidc_states WHERE oidc_states.expires_at < ?', ('2026-02-08 07:01:14.736600',)) completed
2026-02-07 23:01:14,843 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff0bd4c0>)
2026-02-07 23:01:14,843 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff0bd4c0>) completed
2026-02-07 23:01:14,846 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 23:01:14,847 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 23:01:14,847 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff0bd4c0>, 'INSERT INTO oidc_states (state, nonce, code_verifier, expires_at) VALUES (?, ?, ?, ?) RETURNING id, created_at', ('LQMVxu7xUzE5iVzTOPyhwLFYPRX-jV1Lkb8vBJ6VXmI', '_jpxkQMUEkDJEEghi7Qt0YO_qX86iuRWPnX8_kivhUE', 'g205Gq68EC1D8_o-0uH5hiJYkfY7Y9L_vntKRpnwd0YXBlZNC_tfuL9MDP0sRPKeyMi2dOgCIQn4gHSp_C1-LjbNzSqv626Wf9bTk8e-kqcKka40_UEX7IQodATsrwQd', '2026-02-08 07:11:14.843887'))
2026-02-07 23:01:14,851 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7effff0bd4c0>, 'INSERT INTO oidc_states (state, nonce, code_verifier, expires_at) VALUES (?, ?, ?, ?) RETURNING id, created_at', ('LQMVxu7xUzE5iVzTOPyhwLFYPRX-jV1Lkb8vBJ6VXmI', '_jpxkQMUEkDJEEghi7Qt0YO_qX86iuRWPnX8_kivhUE', 'g205Gq68EC1D8_o-0uH5hiJYkfY7Y9L_vntKRpnwd0YXBlZNC_tfuL9MDP0sRPKeyMi2dOgCIQn4gHSp_C1-LjbNzSqv626Wf9bTk8e-kqcKka40_UEX7IQodATsrwQd', '2026-02-08 07:11:14.843887')) completed
2026-02-07 23:01:14,852 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff0bd4c0>)
2026-02-07 23:01:14,852 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7effff0bd4c0>) completed
2026-02-07 23:01:14,852 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff0bd4c0>)
2026-02-07 23:01:14,852 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7effff0bd4c0>) completed
2026-02-07 23:01:14,853 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 23:01:14,865 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 23:01:14,866 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7effff5ba140>)
2026-02-07 23:01:14,867 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7effff5ba140>) completed
2026-02-07 23:01:14,867 - routers.auth - DEBUG - [get_dynamic_backend_url] mgx-external-domain=None, x-forwarded-host=t590x-348dff0be7fa4659be92ce913b8d81ed-preview.app.atoms.dev, host=127.0.0.1:8000, scheme=https, dynamic_url=https://t590x-348dff0be7fa4659be92ce913b8d81ed-preview.app.atoms.dev
2026-02-07 23:01:14,867 - routers.auth - INFO - [login] Starting OIDC flow with redirect_uri=https://t590x-348dff0be7fa4659be92ce913b8d81ed-preview.app.atoms.dev/api/v1/auth/callback
2026-02-07 23:01:14,868 - core.database - ERROR - Database session error: 'Settings' object has no attribute 'oidc_client_id'
Traceback (most recent call last):
  File "/workspace/app/backend/core/database.py", line 534, in get_db
    yield session
  File "/data/.cache/python/lib/python3.10/site-packages/fastapi/routing.py", line 107, in app
    response = await f(request)
  File "/data/.cache/python/lib/python3.10/site-packages/fastapi/routing.py", line 426, in app
    raw_response = await run_endpoint_function(
  File "/data/.cache/python/lib/python3.10/site-packages/fastapi/routing.py", line 314, in run_endpoint_function
    return await dependant.call(**values)
  File "/workspace/app/backend/routers/auth.py", line 93, in login
    auth_url = build_authorization_url(state, nonce, code_challenge, redirect_uri=redirect_uri)
  File "/workspace/app/backend/core/auth.py", line 240, in build_authorization_url
    "client_id": settings.oidc_client_id,
  File "/workspace/app/backend/core/config.py", line 68, in __getattr__
    raise AttributeError(f"'{self.__class__.__name__}' object has no attribute '{name}'")
AttributeError: 'Settings' object has no attribute 'oidc_client_id'
2026-02-07 23:01:14,875 - core.database - DEBUG - [DB_OP] Database session cleanup after 0.1393s
2026-02-07 23:01:14,875 - core.database - ERROR - Failed to create database session: 'Settings' object has no attribute 'oidc_client_id'
Traceback (most recent call last):
  File "/workspace/app/backend/core/database.py", line 534, in get_db
    yield session
  File "/data/.cache/python/lib/python3.10/site-packages/fastapi/routing.py", line 107, in app
    response = await f(request)
  File "/data/.cache/python/lib/python3.10/site-packages/fastapi/routing.py", line 426, in app
    raw_response = await run_endpoint_function(
  File "/data/.cache/python/lib/python3.10/site-packages/fastapi/routing.py", line 314, in run_endpoint_function
    return await dependant.call(**values)
  File "/workspace/app/backend/routers/auth.py", line 93, in login
    auth_url = build_authorization_url(state, nonce, code_challenge, redirect_uri=redirect_uri)
  File "/workspace/app/backend/core/auth.py", line 240, in build_authorization_url
    "client_id": settings.oidc_client_id,
  File "/workspace/app/backend/core/config.py", line 68, in __getattr__
    raise AttributeError(f"'{self.__class__.__name__}' object has no attribute '{name}'")
AttributeError: 'Settings' object has no attribute 'oidc_client_id'
2026-02-07 23:01:14,884 - main - ERROR - Exception: AttributeError: 'Settings' object has no attribute 'oidc_client_id'
Traceback (most recent call last):
  File "/data/.cache/python/lib/python3.10/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/data/.cache/python/lib/python3.10/site-packages/starlette/middleware/cors.py", line 87, in __call__
    await self.app(scope, receive, send)
  File "/data/.cache/python/lib/python3.10/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/data/.cache/python/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/data/.cache/python/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/data/.cache/python/lib/python3.10/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/data/.cache/python/lib/python3.10/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/data/.cache/python/lib/python3.10/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/data/.cache/python/lib/python3.10/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/data/.cache/python/lib/python3.10/site-packages/fastapi/routing.py", line 121, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/data/.cache/python/lib/python3.10/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/data/.cache/python/lib/python3.10/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/data/.cache/python/lib/python3.10/site-packages/fastapi/routing.py", line 107, in app
    response = await f(request)
  File "/data/.cache/python/lib/python3.10/site-packages/fastapi/routing.py", line 426, in app
    raw_response = await run_endpoint_function(
  File "/data/.cache/python/lib/python3.10/site-packages/fastapi/routing.py", line 314, in run_endpoint_function
    return await dependant.call(**values)
  File "/workspace/app/backend/routers/auth.py", line 93, in login
    auth_url = build_authorization_url(state, nonce, code_challenge, redirect_uri=redirect_uri)
  File "/workspace/app/backend/core/auth.py", line 240, in build_authorization_url
    "client_id": settings.oidc_client_id,
  File "/workspace/app/backend/core/config.py", line 68, in __getattr__
    raise AttributeError(f"'{self.__class__.__name__}' object has no attribute '{name}'")
AttributeError: 'Settings' object has no attribute 'oidc_client_id'

